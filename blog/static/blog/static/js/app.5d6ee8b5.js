(()=>{"use strict";var t={1844:(t,e,r)=>{r(3792),r(3362),r(9085),r(9391);var a=r(5471),n=(r(3288),function(){var t=this,e=t._self._c;return e("v-app",[e("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[e("v-toolbar-title",[t._v("Мой блог")]),e("v-spacer"),e("v-btn",{attrs:{text:"",to:"/"}},[t._v("Главная")])],1),e("v-main",[e("v-container",[e("router-view")],1)],1),e("v-footer",{attrs:{app:"",color:"primary",dark:""}},[e("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" "+t._s((new Date).getFullYear())+" — "),e("strong",[t._v("Мой блог")])])],1)],1)}),o=[];const s={name:"App"},c=s;var i=r(1656),l=(0,i.A)(c,n,o,!1,null,null,null);const u=l.exports;var p=r(173),v=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"text-h4 mb-4"},[t._v("Последние посты")]),e("v-row",t._l(t.posts,(function(r){return e("v-col",{key:r.id,attrs:{cols:"12",md:"6",lg:"4"}},[e("v-card",[e("v-card-title",[t._v(t._s(r.title))]),e("v-card-text",[e("p",{staticClass:"text-truncate"},[t._v(t._s(r.content))])]),e("v-card-actions",[e("v-btn",{attrs:{text:"",color:"primary",to:{name:"PostDetail",params:{id:r.id}}}},[t._v(" Читать далее ")])],1),e("v-card-subtitle",[t._v(" Опубликовано: "+t._s(t.formatDate(r.published_date))+" ")])],1)],1)})),1),0===t.posts.length?e("v-row",{staticClass:"mt-4"},[e("v-col",{attrs:{cols:"12"}},[e("v-alert",{attrs:{type:"info"}},[t._v(" Пока нет опубликованных постов. ")])],1)],1):t._e(),t.totalPages>1?e("v-row",{staticClass:"mt-4"},[e("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e("v-pagination",{attrs:{length:t.totalPages},on:{input:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)},f=[],d=r(459),h=r(388),m=r(2505),g=r.n(m);const _={name:"PostList",data:function(){return{posts:[],currentPage:1,totalPages:1}},methods:{fetchPosts:function(){var t=this;return(0,h.A)((0,d.A)().mark((function e(){var r;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().get("/api/posts/?page=".concat(t.currentPage));case 3:r=e.sent,t.posts=r.data.results,t.totalPages=Math.ceil(r.data.count/10),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error("Error fetching posts:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},formatDate:function(t){return new Date(t).toLocaleString("ru-RU")},onPageChange:function(t){this.currentPage=t,this.fetchPosts()}},created:function(){this.fetchPosts()}},b=_;var y=(0,i.A)(b,v,f,!1,null,null,null);const P=y.exports;var x=function(){var t=this,e=t._self._c;return e("div",[e("v-btn",{staticClass:"mb-4",attrs:{text:"",color:"primary",to:"/"}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-left")]),t._v(" Назад к списку ")],1),t.post?e("v-card",[e("v-card-title",{staticClass:"text-h4"},[t._v(t._s(t.post.title))]),e("v-card-subtitle",[t._v(" Опубликовано: "+t._s(t.formatDate(t.post.published_date))+" ")]),e("v-card-text",{staticClass:"text-body-1"},[t._v(" "+t._s(t.post.content)+" ")])],1):e("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)},w=[];r(2892);const A={name:"PostDetail",props:{id:{type:[String,Number],required:!0}},data:function(){return{post:null}},methods:{fetchPost:function(){var t=this;return(0,h.A)((0,d.A)().mark((function e(){var r;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g().get("/api/posts/".concat(t.id,"/"));case 3:r=e.sent,t.post=r.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error fetching post:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},formatDate:function(t){return new Date(t).toLocaleString("ru-RU")}},created:function(){this.fetchPost()}},C=A;var k=(0,i.A)(C,x,w,!1,null,null,null);const O=k.exports;a.Ay.use(p.Ay);var D=[{path:"/",name:"PostList",component:P},{path:"/post/:id",name:"PostDetail",component:O,props:!0}],F=new p.Ay({mode:"history",base:"/",routes:D});const S=F;var j=r(6462);a.Ay.use(j.A);const E=new j.A({theme:{themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},icons:{iconfont:"mdi"}});a.Ay.config.productionTip=!1,g().defaults.baseURL={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL||"http://localhost:8000",g().defaults.xsrfCookieName="csrftoken",g().defaults.xsrfHeaderName="X-CSRFToken",new a.Ay({router:S,vuetify:E,render:function(t){return t(u)}}).$mount("#app")}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,r),o.exports}r.m=t,(()=>{var t=[];r.O=(e,a,n,o)=>{if(!a){var s=1/0;for(u=0;u<t.length;u++){for(var[a,n,o]=t[u],c=!0,i=0;i<a.length;i++)(!1&o||s>=o)&&Object.keys(r.O).every((t=>r.O[t](a[i])))?a.splice(i--,1):(c=!1,o<s&&(s=o));if(c){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,n,o]}})(),(()=>{r.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return r.d(e,{a:e}),e}})(),(()=>{r.d=(t,e)=>{for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{r.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{var t={524:0};r.O.j=e=>0===t[e];var e=(e,a)=>{var n,o,[s,c,i]=a,l=0;if(s.some((e=>0!==t[e]))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(i)var u=i(r)}for(e&&e(a);l<s.length;l++)o=s[l],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(u)},a=self["webpackChunkblog_frontend"]=self["webpackChunkblog_frontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var a=r.O(void 0,[504],(()=>r(1844)));a=r.O(a)})();
//# sourceMappingURL=app.5d6ee8b5.js.map